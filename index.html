<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Graduation Invitation</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    font-family:'Poppins',sans-serif;
}

/* ===== BACKGROUND IMAGE ===== */
.background{
    position:fixed;
    inset:0;
    background:url("https://images.unsplash.com/photo-1490750967868-88aa4486c946") center/cover no-repeat;
    filter:blur(8px) brightness(1.1);
    z-index:-2;
}

.overlay{
    position:fixed;
    inset:0;
    background:rgba(255,255,255,0.45);
    z-index:-1;
}

/* ===== CARD ===== */
.card{
    width:440px;
    padding:50px 35px;
    border-radius:40px;
    background:rgba(255,255,255,0.65);
    backdrop-filter:blur(25px);
    border:2px solid rgba(255,255,255,0.8);
    box-shadow:0 30px 60px rgba(0,0,0,0.25);
    text-align:center;
    color:#334466;
    position:relative;
}

.invite{
    font-size:22px;
    margin-bottom:10px;
    letter-spacing:1px;
}

.title{
    font-family:'Playfair Display',serif;
    font-size:52px;
    font-weight:700;
    margin-bottom:25px;
}

.desc{
    font-size:15px;
    line-height:1.8;
    margin-bottom:30px;
}

.section-title{
    font-weight:600;
    margin-top:20px;
    margin-bottom:8px;
    text-decoration:underline;
}

.info{
    font-size:18px;
    margin:4px 0;
}

.footer{
    margin-top:30px;
    font-style:italic;
}

/* ===== BUTTONS ===== */
.controls{
    position:fixed;
    bottom:20px;
    right:20px;
    display:flex;
    gap:10px;
}

button{
    padding:10px 16px;
    border:none;
    border-radius:25px;
    cursor:pointer;
    font-weight:500;
    background:#334466;
    color:white;
    box-shadow:0 8px 20px rgba(0,0,0,0.2);
}

/* ===== SAKURA VIP ===== */
.sakura{
    position:fixed;
    top:-30px;
    width:22px;
    height:22px;
    background:url("https://cdn-icons-png.flaticon.com/512/766/766732.png") no-repeat center/cover;
    pointer-events:none;
    animation:fall linear forwards;
}

@keyframes fall{
    0%{transform:translateY(0) translateX(0) rotate(0deg);}
    50%{transform:translateY(50vh) translateX(40px) rotate(360deg);}
    100%{transform:translateY(110vh) translateX(-60px) rotate(720deg);opacity:0;}
}
</style>
</head>

<body>

<div class="background"></div>
<div class="overlay"></div>

<div class="card" id="capture">
    <div class="invite">Invitation</div>
    <div class="title">GRADUATION</div>

    <div class="desc">
        Đây là ngày mình muốn lưu trữ những khoảnh khắc đẹp nhất của thời thanh xuân.
        Thật hạnh phúc khi những bức ảnh thanh xuân của mình có sự góp mặt của bạn.
    </div>

    <div class="section-title">THỜI GIAN</div>
    <div class="info">10:00 AM</div>
    <div class="info">01.03.2026</div>

    <div class="section-title">ĐỊA ĐIỂM</div>
    <div class="info">Trường THPT Tĩnh Gia 2</div>

    <div class="footer">
        Trân trọng,
    </div>
</div>

<div class="controls">
    <button onclick="saveCard()">Lưu thiệp</button>
    <button onclick="toggleMusic()">Nhạc</button>
</div>

<audio id="bgMusic" loop autoplay>
<source src="music.mp3" type="audio/mp3">
</audio>

<script>

/* ===== AUTO MUSIC ===== */
window.addEventListener("load",()=>{
    const music=document.getElementById("bgMusic");
    const playPromise=music.play();
    if(playPromise!==undefined){
        playPromise.catch(()=>{
            document.body.addEventListener("click",()=>music.play(),{once:true});
        });
    }
});

/* ===== SAKURA ===== */
function createSakura(){
    const sakura=document.createElement("div");
    sakura.classList.add("sakura");
    sakura.style.left=Math.random()*100+"vw";
    sakura.style.animationDuration=8+Math.random()*8+"s";
    sakura.style.opacity=0.7+Math.random()*0.3;
    document.body.appendChild(sakura);
    setTimeout(()=>sakura.remove(),16000);
}
setInterval(createSakura,150);

/* ===== SAVE FULL DESIGN ===== */
function saveCard(){
    html2canvas(document.body,{
        scale:3,
        useCORS:true,
        backgroundColor:null
    }).then(canvas=>{
        const link=document.createElement("a");
        link.download="graduation-invitation.png";
        link.href=canvas.toDataURL("image/png");
        link.click();
    });
}

function toggleMusic(){
    const music=document.getElementById("bgMusic");
    music.paused?music.play():music.pause();
}

</script>

</body>
</html>
